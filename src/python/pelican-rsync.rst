Using rysnc with Pelican
########################
:date: 2013/06/23
:tags: pelican, blogging, rysnc

Pelican's autogenerated Makefile supports uploads via scp out-of-the-box.  But this uploads everything, regardless of whether it has changed.

You can add rysnc to your own Makefile:

Right under ssh_upload:: 

 rsync_upload: $(OUTPUTDIR)/index.html
	rsync -r -v $(OUTPUTDIR)/* $(SSH_USER)@$(SSH_HOST):$(SSH_TARGET_DIR)

Also add it to .PHONY (for tab completion in bash)::

 .PHONY: html help clean ftp_upload ssh_upload rysnc_upload dropbox_upload github

And if you feel like it, add it to help::

 help:
    @echo '   rsync_upload                   upload the web site using rsync '


Alternately, you can just look at my finished `Makefile <https://github.com/georgedorn/blog/blob/master/Makefile>`_.
